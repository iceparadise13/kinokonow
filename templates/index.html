<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>canvas</title>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<script src="{{ url_for('static', filename='wordcloud2.js') }}"></script>

<style type="text/css">
#canvas_cloud{
    height: 500px;
    overflow: hidden;
}
</style>

</head>

<body>
<div id="canvas_cloud"></div>

<script>
    function run(){
        var height = $(window).height();
        // hide the scroll bar
        height = height * 0.95;
        document.getElementById('canvas_cloud').style.height = height + "px";
        var options =
        {
          shuffle: false,
          rotateRatio: 0,
          list : {{frequencies |tojson }},
          gridSize: Math.round(16 * document.getElementById('canvas_cloud').offsetWidth / 1024),
          weightFactor: function (size) {
            return Math.pow(size, 1.9) * document.getElementById('canvas_cloud').offsetWidth / 1024;
          }
        };
        WordCloud(document.getElementById('canvas_cloud'), options);
    }
    run();
    window.onresize = function(){
        run();
    }
</script>

</body>
</html>
